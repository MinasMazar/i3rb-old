#!/bin/ruby

require 'i3rb'
require 'thor'
require 'pry'

$debug = true

class I3::CLI < Thor

  include I3::API

  desc "pry [script]", "Start pry session within i3 ipc connection, eventually pre-load a script"
  def pry(script = nil)
    if script && File.exist?(script)
      load script
    end
    binding.pry
  end

end

I3::CLI.start ARGV
